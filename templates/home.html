<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="icon"
      href="{{ url_for('static', filename='images/favicon.png') }}"
      type="image/png"
    />
    <title>ENGLISH TO AMHARIC DICTIONARY</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --bg: #f5f5f5;
        --fg: #111;
        --accent: #f7c948; /* vibrant yellow */
        --border: #000;
      }

      * {
        box-sizing: border-box;
      }

      body {
        background: var(--bg);
        color: var(--fg);
        font-family: "Space Grotesk", sans-serif;
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 2rem;
      }

      .card {
        background: #fff;
        border: 3px solid var(--border);
        padding: 2.5rem;
        width: 100%;
        max-width: 720px;
        box-shadow: 8px 8px 0 var(--border);
        text-align: center;
      }

      h1,
      h2,
      h5,
      h6 {
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      h2 {
        font-weight: 700;
        font-size: 1.5rem;
        margin-bottom: 0.5rem;
      }

      p.text-muted {
        color: #666 !important;
        font-size: 0.95rem;
        margin-bottom: 2rem;
      }

      .form-control {
        border: 3px solid var(--border);
        border-radius: 0;
        padding: 0.75rem 1rem;
        font-size: 1rem;
      }

      .btn-search {
        background: var(--accent);
        border: 3px solid var(--border);
        color: var(--fg);
        font-weight: 600;
        border-radius: 0;
        padding: 0.75rem 1.25rem;
        transition: all 0.15s ease;
      }

      .btn-search:hover {
        background: #ffe580;
        transform: translateY(-2px);
      }

      .bookmark-btn {
        background: transparent;
        border: 3px solid var(--border);
        color: var(--fg);
        padding: 0.4rem 1rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1px;
        cursor: pointer;
        transition: background 0.15s ease;
      }

      .bookmark-btn:hover {
        background: var(--accent);
      }

      .amh-section,
      .en-section {
        border: 3px solid var(--border);
        text-align: left;
        padding: 1rem 1.5rem;
        margin-top: 2rem;
      }

      .amh-section {
        background: #fafafa;
      }

      .en-section {
        background: #fffef2;
      }

      ul,
      ol {
        padding-left: 1.25rem;
      }

      li {
        margin-bottom: 0.4rem;
        line-height: 1.5;
      }

      .error {
        border: 3px solid var(--border);
        background: #ffebe8;
        color: #b71c1c;
        font-weight: 600;
        padding: 0.75rem;
        margin-top: 1rem;
        text-transform: uppercase;
      }

      footer {
        border-top: 3px solid var(--border);
        margin-top: 2rem;
        padding-top: 1rem;
        font-size: 0.9rem;
        color: #444;
      }

      footer a {
        text-decoration: none;
        color: var(--fg);
        font-weight: 600;
      }

      footer a:hover {
        text-decoration: underline;
      }

      .side-panel {
        position: fixed;
        right: 0;
        top: 0;
        width: 220px;
        height: 100vh;
        background: #fffef2;
        border-left: 3px solid var(--border);
        padding: 1rem;
        overflow-y: auto;
        z-index: 100;
      }

      .side-panel h5 {
        font-size: 1rem;
        margin-bottom: 1rem;
        text-transform: uppercase;
      }

      .side-panel ul {
        list-style: none;
        padding: 0;
      }

      .side-panel li {
        padding: 0.3rem 0;
        border-bottom: 1px solid var(--border);
        cursor: pointer;
        transition: background 0.15s ease;
      }

      .side-panel li:hover {
        background: var(--accent);
      }

      /* Responsive Sidebar */
      @media (max-width: 992px) {
        .side-panel {
          position: fixed;
          width: 100%;
          height: auto;
          bottom: 0;
          top: auto;
          border-left: none;
          border-top: 3px solid var(--border);
          background: #fffef2;
          padding: 0.75rem 1rem;
          box-shadow: 0 -4px 0 var(--border);
        }

        .side-panel h5 {
          text-align: center;
          margin-bottom: 0.5rem;
        }

        .side-panel ul {
          display: flex;
          flex-wrap: wrap;
          gap: 0.5rem;
          justify-content: center;
        }

        .side-panel li {
          border: 2px solid var(--border);
          padding: 0.25rem 0.75rem;
          border-radius: 0;
          background: #fff;
          transition: background 0.15s ease;
        }

        .side-panel li:hover {
          background: var(--accent);
        }
      }

      @media (max-width: 576px) {
        body {
          padding: 1rem;
        }

        .card {
          padding: 1.5rem;
          box-shadow: 5px 5px 0 var(--border);
        }
      }
    </style>
  </head>

  <body>
    <div class="card">
      <h2>English ↔ Amharic Dictionary</h2>
      <p class="text-muted">
        Enter a word and explore its meanings in <strong>Amharic</strong>
      </p>

      {% if form %}
      <form
        action=""
        method="post"
        class="d-flex justify-content-center gap-2 mb-4"
      >
        <div class="flex-grow-1">
          {{ form.word(class="form-control", placeholder="English Word Here...")
          }}
        </div>
        <button type="submit" class="btn-search">Search</button>
      </form>
      {% endif %} {% if amh %}
      <div class="text-start">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h1>{{ word }}</h1>
          <button class="bookmark-btn" id="bookmarkBtn" data-word="{{ word }}">
            ★ Save
          </button>
        </div>

        <div class="amh-section">
          <h5>Amharic Definitions</h5>
          <ul class="list-unstyled">
            {% for num, definition in amh.items() %}
            <li><strong>{{ num }}.</strong> {{ definition }}</li>
            {% endfor %}
          </ul>
        </div>

        <div class="en-section">
          <h5>English Definitions</h5>
          {% if en %} {% for pos, defs in en.items() %}
          <div class="mt-3">
            <h6>{{ pos }}</h6>
            <ol>
              {% for d in defs %} {% for num, val in d.items() %}
              <li>
                {% if val is string %} {{ val }} {% else %}
                <ul>
                  {% for sub in val %} {% for letter, text in sub.items() %}
                  <li><strong>{{ letter }})</strong> {{ text }}</li>
                  {% endfor %} {% endfor %}
                </ul>
                {% endif %}
              </li>
              {% endfor %} {% endfor %}
            </ol>
          </div>
          {% endfor %} {% endif %}
        </div>
      </div>
      {% elif error %}
      <div class="error">{{ error }}</div>
      {% endif %}
      <div class="side-panel" id="sidePanel">
        <h5>Saved Words</h5>
        <ul id="savedWordsList"></ul>
      </div>

      <footer class="text-center mt-4">
        <a href="https://nathnaelyirga.dev" target="_blank"
          >nathnaelyirga.dev</a
        >
      </footer>
    </div>
    <script
      src="{{ url_for('static', filename='js/index.js') }}"
      type="text/javascript"
    ></script>
  </body>
</html>
